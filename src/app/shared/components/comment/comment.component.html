<div *ngIf="comment.depth <= maxDepth">
    <div class="comment-depth-{{comment.depth}}" id="{{comment.id}}">
        <threadlines [depth]="comment.depth" [previousParentIds]="parentIds" [currentId]="comment.id"></threadlines>
        <comment-content [comment]="comment"></comment-content>
    </div>
    <div *ngFor="let reply of comment.replies">
        <comment [previousParentIds]="parentIds" [comment]="reply"></comment>
    </div>
    <div class="comment-more-replies-depth-{{comment.depth}}">
        <threadlines [previousParentIds]="parentIds" [includeNewThread]="false"></threadlines>   
        <div *ngIf="!isRepliesLoaded && comment.numOfHiddenReplies > 0">
            <more-replies [comment]="comment" (repliesLoadedEvent)="repliesLoaded()"></more-replies>  
        </div>
        <div *ngIf="comment.mustContinueInNewThread">
            <!-- move into it's own component -->
            <div class="comment-more-replies-text depth-{{comment.depth}}">
                <p>
                    Continue with thread
                    <i class="fa fa-arrow-right"></i>
                </p>
            </div>
        </div>
    </div>
</div>
